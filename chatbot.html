<!DOCTYPE html>
<html>

<head>
   <title>React Basics</title>
</head>
<style>
   body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #eef4ff, #f8fbff);
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
   }

   .js-container {
      width: min(560px, 92vw);
      background: white;
      border-radius: 16px;
      box-shadow: 0 12px 35px rgba(20, 40, 80, 0.14);
      overflow: hidden;
   }

   .chat-header {
      background: #0b63f6;
      color: #fff;
      padding: 12px 16px;
      font-weight: 700;
      font-size: 16px;
   }


   .chat-area {
      height: 420px;
      overflow-y: auto;
      padding: 14px;
      background: #f8faff;
   }


   .chat-input {
      display: flex;
      gap: 10px;
      border-top: 1px solid #e5ebf5;
      padding: 12px;
      background: #fff;
   }

   .chat-input input {
      flex: 1;
      padding: 10px;
      border-radius: 20px;
      border: 1px solid #c9d8f3;
      outline: none;
      font-size: 14px;
      background: #fdfefe;
   }

   .chat-input input:focus {
      border-color: #0b63f6;
      box-shadow: 0 0 0 3px rgba(11, 99, 246, 0.16);
   }

   .chat-input button {
      background: #0b63f6;
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: bold;
   }

   .chat-input button:hover {
      background: #084ec2;
   }

   .message-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 10px 0;
   }


   .robot {
      justify-content: flex-start;
   }

   .user {
      justify-content: flex-end;
   }

   .message-bubble {
      padding: 10px 14px;
      border-radius: 18px;
      max-width: 70%;
      font-size: 14px;
      line-height: 1.4;
      box-shadow: 0 2px 8px rgba(12, 25, 54, 0.07);
   }


   .robot .message-bubble {
      background: #eaf2ff;
      color: #1f2a44;
   }

   .user .message-bubble {
      background: #0b63f6;
      color: white;
   }

   .avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: grid;
      place-items: center;
      font-size: 18px;
      flex: 0 0 36px;
      color: #fff;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
   }

   .robot-avatar {
      background: linear-gradient(135deg, #4f8df7, #2259d0);
   }

   .user-avatar {
      background: linear-gradient(135deg, #11b47b, #0a8f62);
   }
</style>


<body>
   <div class="js-container"></div>

   <script src="https://unpkg.com/supersimpledev/react.js"></script>
   <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

   <script src="https://unpkg.com/supersimpledev/babel.js"></script>
   <script type="text/babel">

      function getRobotReply(userMessage) {
         const msg = userMessage.toLowerCase();
         if (msg.includes('hi') || msg.includes('hello')) {
            return 'Hello! How can I help you today?';
         }

         if (msg.includes('how are you')) {
            return "I'm doing great ðŸ¤– Thanks for asking!";
         }

         if (msg.includes('your name') || msg.includes('who are you')) {
            return "I'm RoboBuddy, your simple chat assistant.";
         }

         if (msg.includes('help')) {
            return 'Try: hi, date, time, flip coin, joke, quote, or thanks.';
         }

         if (msg.includes('date')) {
            return 'Today is ' + new Date().toDateString();
         }

         if (msg.includes('time')) {
            return 'Current time is ' + new Date().toLocaleTimeString();
         }

         if (msg.includes('flip') || msg.includes('coin') || msg.includes('toss')) {
            const result = Math.random() < 0.5 ? 'Heads' : 'Tails';
            return 'ðŸª™ Coin flip result: ' + result;
         }

         if (msg.includes('joke')) {
            const jokes = [
               'Why do programmers prefer dark mode? Because light attracts bugs! ðŸ˜„',
               'I would tell you a UDP joke, but you might not get it.',
               'Why did the developer go broke? Because they used up all their cache.'
            ];
            return jokes[Math.floor(Math.random() * jokes.length)];
         }

         if (msg.includes('quote') || msg.includes('motivate')) {
            const quotes = [
               'Small progress each day adds up to big results.',
               'Done is better than perfect.',
               'Keep going. Every line of code makes you better.'
            ];
            return 'ðŸ’¡ ' + quotes[Math.floor(Math.random() * quotes.length)];
         }

         if (msg.includes('thank')) {
            return "You're welcome! Happy to help ðŸ˜Š";
         }

         if (msg.includes('bye')) {
            return 'Goodbye ðŸ‘‹ Have a great day!';
         }

         return "I didn't catch that. Try: help, date, time, flip a coin, joke, or quote ðŸ™‚";
      }



      function ChatInput({ chatMessages, setChatMessages }) {
         const [inputText, setInputText] = React.useState('');

         function saveInputText(e) {
            setInputText(e.target.value);
         }


         function sendMessage() {
            if (!inputText.trim()) return;

            const userMsg = {
               message: inputText,
               sender: 'user',
               id: crypto.randomUUID()
            };

            const robotMsg = {
               message: getRobotReply(inputText),
               sender: 'robot',
               id: crypto.randomUUID()
            };

            setChatMessages([...chatMessages, userMsg, robotMsg]);
            setInputText('');
         }

         return (
            <div className="chat-input">
               <input
                  placeholder="Send a message..."
                  value={inputText}
                  onChange={saveInputText}
                  onKeyDown={(e) => e.key === 'Enter' && sendMessage()}
               />
               <button onClick={sendMessage}>Send</button>
            </div>
         );
      }

      function ChatMessage({ message, sender }) {
         return (
            <div className={`message-row ${sender}`}>

               {sender === 'robot' && <div className="avatar robot-avatar">ðŸ¤–</div>}

               <div className="message-bubble">
                  {message}
               </div>

               {sender === 'user' && <div className="avatar user-avatar">ðŸ™‚</div>}

            </div>
         );
      }


      // function ChatMessages() {
      //    const array = React.useState([{
      //       message: 'hello chatbot', sender: 'user', id: '1'
      //    },
      //    { message: 'hello how can i help you', sender: 'robot', id: '2' },
      //    { message: 'can you get me todays date', sender: 'user', id: '3' },
      //    { message: 'today is ----', sender: 'robot', id: '4' }
      //    ]);
      //    const ChatMessages = array[0];
      //    const setChatMessages = array[1];

      //    function sendMessage() {
      //       // console.log('send message');
      //       // chatMessages.push({
      //       //    message: 'test',
      //       //    sender: 'user',
      //       //    id: crypto.randomUUID()
      //       // });

      //       // console.log(chatMessages);

      //       setChatMessages(
      //          [
      //             ...chatMessages,
      //             {
      //                message: 'test',
      //                sender: 'user',
      //                id: crypto.randomUUID()
      //             }
      //          ]
      //       );
      //    }

      //    return (
      //       <>
      //          <button onClick={sendMessage}>Send message</button>
      //          {chatMessages.map((chatMessage) => {
      //             return (
      //                <ChatMessage
      //                   key={chatMessage.id}
      //                   message={chatMessage.message}
      //                   sender={chatMessage.sender}
      //                />
      //             );
      //          })}
      //       </>
      //    );
      // }

      function ChatMessages({ chatMessages }) {
         return (
            <div className="chat-area">
               {chatMessages.map((chatMessage) => (
                  <ChatMessage
                     key={chatMessage.id}
                     message={chatMessage.message}
                     sender={chatMessage.sender}
                  />
               ))}
            </div>
         );
      }
      // function DemoFunctions(){
      //    return(
      //       <>
      //       hello hi
      //       <p className="abc" >sjhbjsk wekbak</p>
      //       </>
      //    )
      // }


      function App() {

         const [chatMessages, setChatMessages] = React.useState([]);

         React.useEffect(() => {
            setChatMessages([
               {
                  message: "Hello ðŸ‘‹ I'm your chatbot. Ask me date or time or  coin flip.",
                  sender: "robot",
                  id: crypto.randomUUID()
               }
            ]);
         }, []);

         return (
            <>
               <div className="chat-header">ðŸ¤– Chat Assistant</div>

               <ChatMessages
                  chatMessages={chatMessages}
               />

               <ChatInput
                  chatMessages={chatMessages}
                  setChatMessages={setChatMessages}
               />
               {/* <DemoFunctions /> */}
               
            </>

         );
      }




      const container = document.querySelector('.js-container');
      ReactDOM.createRoot(container).render(<App />);
   </script>
</body>

</html>
